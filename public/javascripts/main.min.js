window.pts={};pts.clearElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};pts.escapeHTML=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};pts.responseToJSON=function(a){return a.json()};
pts.postJSON=function(a,b,f){var c={method:"POST",credentials:"include"};b&&(b.tagName&&"FORM"===b.tagName?c.body=new URLSearchParams(new FormData(b)):b.constructor===Object&&(c.headers={"Content-Type":"application/json"},c.body=JSON.stringify(b)));window.fetch(a,c).then(pts.responseToJSON).then(f)};
pts.getDefaultConfigProperty=function(a,b){try{var f=window.localStorage.getItem("defaultConfigProperties");if(f){var c=JSON.parse(f);b(c[a]);return}}catch(d){}pts.postJSON("/dashboard/doGetDefaultConfigProperties",{},function(c){try{window.localStorage.setItem("defaultConfigProperties",JSON.stringify(c))}catch(e){}b(c[a])})};pts.showModal=function(a){a.classList.add("is-active")};pts.hideModal=function(a){a=a.currentTarget||a;(a.classList.contains("modal")?a:a.closest(".modal")).classList.remove("is-active")};
pts.openHtmlModal=function(a,b){window.fetch("/html/"+a+".html").then(function(b){return b.text()}).then(function(a){var c=document.createElement("div");c.innerHTML=a;var d=c.getElementsByClassName("modal")[0];document.body.insertAdjacentElement("beforeend",c);if(b&&b.onshow)b.onshow(d);d.classList.add("is-active");a=function(){var a=d.classList.contains("is-active");if(!(b&&b.onhide&&a&&b.onhide(d))){d.classList.remove("is-active");if(b&&b.onhidden&&a)b.onhidden(d);c.remove();if(b&&b.onremoved)b.onremoved()}};
if(b&&b.onshown)b.onshown(d,a);for(var e=d.getElementsByClassName("is-close-modal-button"),g=0;g<e.length;g+=1)e[g].addEventListener("click",a)})};
(function(){function a(a){var b=document.createElement("div");b.className="modal is-active";var c=a.contextualColorName||"info",g=a.titleString||"",d=a.bodyHTML||"",e=a.cancelButtomHTML||"Cancel";b.innerHTML='<div class="modal-background"></div><div class="modal-card">'+('<header class="modal-card-head has-background-'+c+'"><h3 class="modal-card-title'+("warning"!==c?" has-text-white":"")+'"></h3></header>')+(""===d?"":'<section class="modal-card-body">'+d+"</section>")+('<footer class="modal-card-foot justify-flex-end">'+
(a.hideCancelButton?"":'<button class="button is-cancel-button" type="button" aria-label="Cancel">'+e+"</button>")+('<button class="button is-ok-button is-'+c+'" type="button" aria-label="OK">'+(a.okButtonHTML||"OK")+"</button>")+"</footer>")+"</div>";b.getElementsByClassName("modal-card-title")[0].innerText=g;a.hideCancelButton||b.getElementsByClassName("is-cancel-button")[0].addEventListener("click",function(){b.remove()});c=b.getElementsByClassName("is-ok-button")[0];c.addEventListener("click",
function(){b.remove();a.callbackFn&&a.callbackFn()});document.body.insertAdjacentElement("beforeend",b);c.focus()}function b(a){return a.returnValue="You have unsaved changes that may be lost."}function f(a){a.preventDefault();pts.confirmModal("Log Out?","<p>Are you sure you want to log out?</p>",'<span class="icon"><i class="fas fa-sign-out-alt" aria-hidden="true"></i></span><span>Log Out</span>',"warning",function(){window.localStorage.clear();window.location.href="/logout"})}pts.confirmModal=function(b,
c,d,e,f){a({contextualColorName:e,titleString:b,bodyHTML:c,okButtonHTML:d,callbackFn:f})};pts.alertModal=function(b,c,d,e){a({contextualColorName:e,titleString:b,bodyHTML:c,hideCancelButton:!0,okButtonHTML:d})};var c=!1;pts.enableNavBlocker=function(){c||(window.addEventListener("beforeunload",b),c=!0)};pts.disableNavBlocker=function(){c&&(window.removeEventListener("beforeunload",b),c=!1)};document.getElementById("navbar-burger--main").addEventListener("click",function(a){a.currentTarget.classList.toggle("is-active");
document.getElementById("navbar-menu--main").classList.toggle("is-active")});for(var d=document.getElementsByClassName("is-logout-button"),e=0;e<d.length;e+=1)d[e].addEventListener("click",f)})();
