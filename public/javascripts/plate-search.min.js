"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){const e=document.getElementById("form--filters"),t=document.getElementById("filter--limit"),n=document.getElementById("filter--offset"),a=document.getElementById("container--searchResults");function s(){n.value="0",function s(){const i=parseInt(t.value,10),c=parseInt(n.value,10);a.innerHTML='<p class="has-text-centered has-text-grey-lighter"><i class="fas fa-3x fa-circle-notch fa-spin" aria-hidden="true"></i><br /><em>Loading licence plates...</p>',cityssm.postJSON("/plates/doGetLicencePlates",e,function(e){const t=e.licencePlates;if(0===t.length)return void(a.innerHTML='<div class="message is-info"><div class="message-body"><strong>Your search returned no results.</strong><br />Please try expanding your search criteria.</div></div>');a.innerHTML='<table class="table is-fullwidth is-striped is-hoverable"><thead><tr><th>Licence Plate Number</th><th>Province</th><th>Country</th><th class="has-text-right">Ownership Record</th><th class="has-text-right">Unresolved Tickets</th></tr></thead><tbody></tbody></table>';const l=a.getElementsByTagName("tbody")[0];if(t.forEach(function(e){const t=document.createElement("tr"),n="/plates/"+(""===e.licencePlateCountry?"_":encodeURIComponent(e.licencePlateCountry))+"/"+(""===e.licencePlateProvince?"_":encodeURIComponent(e.licencePlateProvince))+"/"+(""===e.licencePlateNumber?"_":encodeURIComponent(e.licencePlateNumber));t.innerHTML='<td><a href="'+n+'" data-tooltip="View Licence Plate">'+(""===e.licencePlateNumber?"(Blank)":'<span class="licence-plate-number">'+e.licencePlateNumber+"</span>")+'</a></td><td class="is-vcentered">'+(""===e.licencePlateProvince?'<span class="has-text-grey">(Blank)</span>':e.licencePlateProvince)+'</td><td class="is-vcentered">'+(""===e.licencePlateCountry?'<span class="has-text-grey">(Blank)</span>':e.licencePlateCountry)+'</td><td class="has-text-right is-vcentered">'+(e.hasOwnerRecord?'<span data-tooltip="Has Ownership Record"><i class="fas fa-check" aria-hidden="true"></i></span><span class="sr-only">Has Ownership Record</span>':"")+'</td><td class="has-text-right is-vcentered">'+e.unresolvedTicketCount+"</td>",l.appendChild(t)}),a.insertAdjacentHTML("beforeend",'<div class="level is-block-print"><div class="level-left has-text-weight-bold">Displaying licence plates '+(c+1)+" to "+Math.min(i+c,e.count)+" of "+e.count+"</div></div>"),i<e.count){const t=document.createElement("nav");if(t.className="level-right is-hidden-print",t.setAttribute("role","pagination"),t.setAttribute("aria-label","pagination"),c>0){const e=document.createElement("a");e.className="button",e.innerHTML='<span class="icon"><i class="fas fa-chevron-left" aria-hidden="true"></i></span><span>Previous</span>',e.addEventListener("click",function(e){e.preventDefault(),n.value=Math.max(0,c-i).toString(),s()}),t.appendChild(e)}if(i+c<e.count){const e=document.createElement("a");e.className="button ml-3",e.innerHTML='<span>Next Licence Plates</span><span class="icon"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>',e.addEventListener("click",function(e){e.preventDefault(),n.value=(c+i).toString(),s()}),t.appendChild(e)}a.getElementsByClassName("level")[0].appendChild(t)}})}()}e.addEventListener("submit",function(e){e.preventDefault()}),document.getElementById("filter--licencePlateNumber").addEventListener("change",s),document.getElementById("filter--hasOwnerRecord").addEventListener("change",s),document.getElementById("filter--hasUnresolvedTickets").addEventListener("change",s),pts.loadDefaultConfigProperties(s)}();