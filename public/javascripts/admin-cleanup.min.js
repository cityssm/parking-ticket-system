"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{const e=exports.recordDelete_timeMillis;delete exports.recordDelete_timeMillis;const t=t=>{t.preventDefault();const s=t.currentTarget;s.setAttribute("disabled","disabled");const r=s.getAttribute("data-table");cityssm.confirmModal("Purge Table?","Are you sure you want to purge the deleted records in this table? This cannot be undone.","Yes, Delete the Records","warning",()=>{cityssm.postJSON("/admin/doCleanupTable",{table:r,recordDelete_timeMillis:e},e=>{e.success?(cityssm.alertModal("Table Purged Successfully","","OK","success"),s.closest("td").innerHTML='<span class="has-text-grey">Records Purged</span>'):s.removeAttribute("disabled")})})},s=document.querySelectorAll(".is-purge-button");for(const e of s)e.addEventListener("click",t)})();