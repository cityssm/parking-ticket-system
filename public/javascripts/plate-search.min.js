"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(){var e=document.getElementById("form--filters"),t=document.getElementById("filter--limit"),n=document.getElementById("filter--offset"),a=document.getElementById("container--searchResults");function s(){n.value="0",function s(){var i=parseInt(t.value),l=parseInt(n.value);a.innerHTML='<p class="has-text-centered has-text-grey-lighter"><i class="fas fa-3x fa-circle-notch fa-spin" aria-hidden="true"></i><br /><em>Loading licence plates...</p>',cityssm.postJSON("/plates/doGetLicencePlates",e,function(e){var t=e.licencePlates;if(0!==t.length){a.innerHTML='<table class="table is-fullwidth is-striped is-hoverable"><thead><tr><th>Licence Plate Number</th><th>Province</th><th>Country</th><th class="has-text-right">Ownership Record</th><th class="has-text-right">Unresolved Tickets</th></tr></thead><tbody></tbody></table>';for(var c=a.getElementsByTagName("tbody")[0],r=0;r<t.length;r+=1){var d=t[r],o=document.createElement("tr"),u="/plates/"+(""===d.licencePlateCountry?"_":encodeURIComponent(d.licencePlateCountry))+"/"+(""===d.licencePlateProvince?"_":encodeURIComponent(d.licencePlateProvince))+"/"+(""===d.licencePlateNumber?"_":encodeURIComponent(d.licencePlateNumber));o.innerHTML='<td><a href="'+u+'" data-tooltip="View Licence Plate">'+(""===d.licencePlateNumber?"(Blank)":'<span class="licence-plate-number">'+d.licencePlateNumber+"</span>")+"</a></td><td>"+(""===d.licencePlateProvince?'<span class="has-text-grey">(Blank)</span>':d.licencePlateProvince)+"</td><td>"+(""===d.licencePlateCountry?'<span class="has-text-grey">(Blank)</span>':d.licencePlateCountry)+'</td><td class="has-text-right">'+(d.hasOwnerRecord?'<span data-tooltip="Has Ownership Record"><i class="fas fa-check" aria-hidden="true"></i></span><span class="sr-only">Has Ownership Record</span>':"")+'</td><td class="has-text-right">'+d.unresolvedTicketCount+"</td>",c.appendChild(o)}if(a.insertAdjacentHTML("beforeend",'<div class="level is-block-print"><div class="level-left has-text-weight-bold">Displaying licence plates '+(l+1)+" to "+Math.min(i+l,e.count)+" of "+e.count+"</div></div>"),i<e.count){var h=document.createElement("nav");if(h.className="level-right is-hidden-print",h.setAttribute("role","pagination"),h.setAttribute("aria-label","pagination"),l>0){var p=document.createElement("a");p.className="button",p.innerHTML='<span class="icon"><i class="fas fa-chevron-left" aria-hidden="true"></i></span><span>Previous</span>',p.addEventListener("click",function(e){e.preventDefault(),n.value=Math.max(0,l-i).toString(),s()}),h.appendChild(p)}if(i+l<e.count){var m=document.createElement("a");m.className="button ml-3",m.innerHTML='<span>Next Licence Plates</span><span class="icon"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>',m.addEventListener("click",function(e){e.preventDefault(),n.value=(l+i).toString(),s()}),h.appendChild(m)}a.getElementsByClassName("level")[0].appendChild(h)}}else a.innerHTML='<div class="message is-info"><div class="message-body"><strong>Your search returned no results.</strong><br />Please try expanding your search criteria.</div></div>'})}()}e.addEventListener("submit",function(e){e.preventDefault()}),document.getElementById("filter--licencePlateNumber").addEventListener("change",s),document.getElementById("filter--hasOwnerRecord").addEventListener("change",s),document.getElementById("filter--hasUnresolvedTickets").addEventListener("change",s),pts.loadDefaultConfigProperties(s)}();