"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pts={};(()=>{let e={},t=!1;const s=()=>{try{const s=window.localStorage.getItem("defaultConfigProperties");if(s)return e=JSON.parse(s),t=!0,!0}catch(s){e={},t=!0}return!1};pts.loadDefaultConfigProperties=(o=>{t?o():s()?o():cityssm.postJSON("/dashboard/doGetDefaultConfigProperties",{},s=>{e=s,t=!0;try{window.localStorage.setItem("defaultConfigProperties",JSON.stringify(e))}catch(e){}o()})}),pts.getDefaultConfigProperty=((o,r)=>{t?r(e[o]):s()?r(e[o]):pts.loadDefaultConfigProperties(()=>{r(e[o])})}),pts.getLicencePlateCountryProperties=(s=>{if(!t)return{};const o=e.licencePlateCountryAliases[s.toUpperCase()]||s;return Object.prototype.hasOwnProperty.call(e.licencePlateProvinces,o)?e.licencePlateProvinces[o]:{}}),pts.getLicencePlateLocationProperties=((s,o)=>{const r={provinceShortName:o,color:"#000",backgroundColor:"#fff"};if(!t)return{licencePlateCountryAlias:s,licencePlateProvinceAlias:o,licencePlateProvince:r};const n=e.licencePlateCountryAliases[s.toUpperCase()]||s;let i=o;if(Object.prototype.hasOwnProperty.call(e.licencePlateProvinceAliases,n)){i=e.licencePlateProvinceAliases[n][o.toUpperCase()]||o}let c=r;return Object.prototype.hasOwnProperty.call(e.licencePlateProvinces,n)&&(c=e.licencePlateProvinces[n].provinces[i]||r),{licencePlateCountryAlias:n,licencePlateProvinceAlias:i,licencePlateProvince:c}});const o=new Map;let r=!1;pts.getTicketStatus=(s=>{const n={statusKey:s,status:s,isUserSettable:!1,isFinalStatus:!1};if(!t)return n;if(!r){for(const t of e.parkingTicketStatuses)o.set(t.statusKey,t);r=!0}return o.has(s)?o.get(s):n});const n=new Map;let i=!1;pts.getLocationClass=(s=>{const o={locationClassKey:s,locationClass:s};if(!t)return o;if(!i){for(const t of e.locationClasses)n.set(t.locationClassKey,t);i=!0}return n.has(s)?n.get(s):o})})(),pts.initializeTabs=((e,t)=>{if(!e)return;const s=e.classList.contains("panel-tabs")||e.classList.contains("menu-list"),o=e.querySelectorAll(s?"a":"li"),r=s?o:e.querySelectorAll("a"),n=e=>{e.preventDefault();const n=e.currentTarget,i=document.querySelector(n.getAttribute("href"));for(const[e,t]of o.entries())t.classList.remove("is-active"),r[e].setAttribute("aria-selected","false");(s?n:n.parentElement).classList.add("is-active"),n.setAttribute("aria-selected","true");const c=i.parentElement.querySelectorAll(".tab-content");for(const e of c)e.classList.remove("is-active");i.classList.add("is-active"),(null==t?void 0:t.onshown)&&t.onshown(i)};for(const e of o)(s?e:e.querySelector("a")).addEventListener("click",n)}),(()=>{const e=e=>{e.preventDefault();const t=e.currentTarget.href,s=t.slice(Math.max(0,t.indexOf("#")+1));document.querySelector("#"+s).classList.toggle("is-hidden")};pts.initializeToggleHiddenLinks=(t=>{const s=t.querySelectorAll(".is-toggle-hidden-link");for(const t of s)t.addEventListener("click",e)})})();