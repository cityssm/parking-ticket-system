"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{const e=exports.recordDelete_timeMillis;delete exports.recordDelete_timeMillis;const t=t=>{t.preventDefault();const s=t.currentTarget;s.setAttribute("disabled","disabled");const l=s.dataset.table;bulmaJS.confirm({title:"Purge Table?",message:"Are you sure you want to purge the deleted records in this table? This cannot be undone.",contextualColorName:"warning",okButton:{text:"Yes, Delete the Records",callbackFunction:()=>{cityssm.postJSON("/admin/doCleanupTable",{table:l,recordDelete_timeMillis:e},e=>{e.success?(cityssm.alertModal("Table Purged Successfully","","OK","success"),s.closest("td").innerHTML='<span class="has-text-grey">Records Purged</span>'):s.removeAttribute("disabled")})}},cancelButton:{callbackFunction:()=>{s.removeAttribute("disabled")}}})},s=document.querySelectorAll(".is-purge-button");for(const e of s)e.addEventListener("click",t)})();