(function(){function m(){var h=parseInt(n.value),e=parseInt(l.value);f.innerHTML='<p class="has-text-centered has-text-grey-lighter"><i class="fas fa-3x fa-circle-notch fa-spin" aria-hidden="true"></i><br /><em>Loading licence plates...</p>';pts.postJSON("/plates/doGetLicencePlates",k,function(a){var b=a.licencePlates;if(0===b.length)f.innerHTML='<div class="message is-info"><div class="message-body"><strong>Your search returned no results.</strong><br />Please try expanding your search criteria.</div></div>';
else{f.innerHTML='<table class="table is-fullwidth is-striped is-hoverable"><thead><tr><th>Licence Plate Number</th><th>Province</th><th>Country</th><th>Ownership Record</th><th>Oustanding Tickets</th></tr></thead><tbody></tbody></table>';for(var g=f.getElementsByTagName("tbody")[0],c=0;c<b.length;c+=1){var d=b[c],k=document.createElement("tr");k.innerHTML='<td><a href="/plates/'+d.licencePlateCountry+"/"+d.licencePlateProvince+"/"+d.licencePlateNumber+'" data-tooltip="View Licence Plate">'+d.licencePlateNumber+
"</a></td><td>"+d.licencePlateProvince+"</td><td>"+d.licencePlateCountry+"</td>"+("<td>"+d.hasOwnerRecord+"</td>")+("<td>"+d.unresolvedTicketCount+"</td>");g.appendChild(k)}f.insertAdjacentHTML("beforeend",'<div class="level is-block-print"><div class="level-left has-text-weight-bold">Displaying licence plates '+(e+1)+" to "+Math.min(h+e,a.count)+" of "+a.count+"</div></div>");h<a.count&&(b=document.createElement("nav"),b.className="level-right is-hidden-print",b.setAttribute("role","pagination"),
b.setAttribute("aria-label","pagination"),0<e&&(g=document.createElement("a"),g.className="button",g.innerText="Previous",g.addEventListener("click",function(a){a.preventDefault();l.value=Math.max(0,e-h);m()}),b.appendChild(g)),h+e<a.count&&(a=document.createElement("a"),a.className="button has-margin-left-10",a.innerHTML='<span>Next Licence Plates</span><span class="icon"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>',a.addEventListener("click",function(a){a.preventDefault();l.value=
e+h;m()}),b.appendChild(a)),f.getElementsByClassName("level")[0].appendChild(b))}})}function c(){l.value=0;m()}var k=document.getElementById("form--filters"),n=document.getElementById("filter--limit"),l=document.getElementById("filter--offset"),f=document.getElementById("container--searchResults");k.addEventListener("submit",function(c){c.preventDefault()});document.getElementById("filter--licencePlateNumber").addEventListener("change",c);document.getElementById("filter--hasOwnerRecord").addEventListener("change",
c);document.getElementById("filter--hasUnresolvedTickets").addEventListener("change",c);pts.loadDefaultConfigProperties(c)})();
