"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const pts={};(()=>{let e={},t=!1;function s(){try{const s=window.localStorage.getItem("defaultConfigProperties");if(null!==s)return e=JSON.parse(s),t=!0,!0}catch(s){e={},t=!0}return!1}pts.loadDefaultConfigProperties=(o=>{t?o():s()?o():cityssm.postJSON("/dashboard/doGetDefaultConfigProperties",{},s=>{e=s,t=!0;try{window.localStorage.setItem("defaultConfigProperties",JSON.stringify(e))}catch(e){}o()})}),pts.getDefaultConfigProperty=((o,n)=>{t?n(e[o]):s()?n(e[o]):pts.loadDefaultConfigProperties(()=>{n(e[o])})}),pts.getLicencePlateCountryProperties=(s=>{if(!t)return{};const o=e.licencePlateCountryAliases[s.toUpperCase()]||s;return Object.prototype.hasOwnProperty.call(e.licencePlateProvinces,o)?e.licencePlateProvinces[o]:{}}),pts.getLicencePlateLocationProperties=((s,o)=>{const n={provinceShortName:o,color:"#000",backgroundColor:"#fff"};if(!t)return{licencePlateCountryAlias:s,licencePlateProvinceAlias:o,licencePlateProvince:n};const r=e.licencePlateCountryAliases[s.toUpperCase()]||s;let i=o;if(Object.prototype.hasOwnProperty.call(e.licencePlateProvinceAliases,r)){i=e.licencePlateProvinceAliases[r][o.toUpperCase()]||o}let c=n;return Object.prototype.hasOwnProperty.call(e.licencePlateProvinces,r)&&(c=e.licencePlateProvinces[r].provinces[i]||n),{licencePlateCountryAlias:r,licencePlateProvinceAlias:i,licencePlateProvince:c}});const o=new Map;let n=!1;pts.getTicketStatus=(s=>{const r={statusKey:s,status:s,isUserSettable:!1,isFinalStatus:!1};if(!t)return r;if(!n){for(const t of e.parkingTicketStatuses)o.set(t.statusKey,t);n=!0}return o.has(s)?o.get(s):r});const r=new Map;let i=!1;pts.getLocationClass=(s=>{const o={locationClassKey:s,locationClass:s};if(!t)return o;if(!i){for(const t of e.locationClasses)r.set(t.locationClassKey,t);i=!0}return r.has(s)?r.get(s):o})})(),pts.initializeTabs=((e,t)=>{if(!e)return;const s=e.classList.contains("panel-tabs")||e.classList.contains("menu-list"),o=e.querySelectorAll(s?"a":"li"),n=s?o:e.querySelectorAll("a"),r=e=>{e.preventDefault();const r=e.currentTarget,i=document.querySelector(r.getAttribute("href"));for(const[e,t]of o.entries())t.classList.remove("is-active"),n[e].setAttribute("aria-selected","false");(s?r:r.parentElement).classList.add("is-active"),r.setAttribute("aria-selected","true");const c=i.parentElement.querySelectorAll(".tab-content");for(const e of c)e.classList.remove("is-active");i.classList.add("is-active"),(null==t?void 0:t.onshown)&&t.onshown(i)};for(const e of o)(s?e:e.querySelector("a")).addEventListener("click",r)}),(()=>{const e=e=>{e.preventDefault();const t=e.currentTarget.href,s=t.slice(Math.max(0,t.indexOf("#")+1));document.querySelector("#"+s).classList.toggle("is-hidden")};pts.initializeToggleHiddenLinks=(t=>{const s=t.querySelectorAll(".is-toggle-hidden-link");for(const t of s)t.addEventListener("click",e)})})();