"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),(()=>{var e,t,n;const a=document.querySelector("#form--filters"),s=document.querySelector("#filter--offset"),i=document.querySelector("#container--searchResults");function c(e){var t;const n=document.createElement("tr"),a=`/plates/${""===e.licencePlateCountry?"_":encodeURIComponent(e.licencePlateCountry)}/${""===e.licencePlateProvince?"_":encodeURIComponent(e.licencePlateProvince)}/${""===e.licencePlateNumber?"_":encodeURIComponent(e.licencePlateNumber)}`;return n.innerHTML=`<td>\n      <a href="${a}" data-tooltip="View Licence Plate">\n      ${""===e.licencePlateNumber?"(Blank)":`<span class="licence-plate-number">${e.licencePlateNumber}</span>`}\n      </a>\n      </td>\n      <td class="is-vcentered">\n      ${""===e.licencePlateProvince?'<span class="has-text-grey">(Blank)</span>':e.licencePlateProvince}\n      </td>\n      <td class="is-vcentered">\n      ${""===e.licencePlateCountry?'<span class="has-text-grey">(Blank)</span>':e.licencePlateCountry}\n      </td>\n      <td class="has-text-right is-vcentered">\n      ${e.hasOwnerRecord?'<span data-tooltip="Has Ownership Record">\n              <i class="fas fa-check" aria-hidden="true"></i>\n              </span>\n              <span class="sr-only">Has Ownership Record</span>':""}\n      </td>\n      <td class="has-text-right is-vcentered">\n        ${(null!==(t=e.unresolvedTicketCount)&&void 0!==t?t:-1).toString()}\n      </td>`,n}function r(e){var t;const n=e.licencePlates;if(0===n.length)return void(i.innerHTML='<div class="message is-info">\n        <div class="message-body">\n        <strong>Your search returned no results.</strong><br />\n        Please try expanding your search criteria.\n        </div>\n        </div>');i.innerHTML='<table class="table is-fullwidth is-striped is-hoverable">\n      <thead><tr>\n      <th>Licence Plate Number</th>\n      <th>Province</th>\n      <th>Country</th>\n      <th class="has-text-right">Ownership Record</th>\n      <th class="has-text-right">Unresolved Tickets</th>\n      </tr></thead>\n      <tbody></tbody>\n      </table>';const a=i.querySelector("tbody");for(const e of n){const t=c(e);a.append(t)}if(i.insertAdjacentHTML("beforeend",`<div class="level is-block-print">\n        <div class="level-left has-text-weight-bold">\n        Displaying licence plates\n        ${(e.offset+1).toString()}\n        to\n        ${Math.min(e.limit+e.offset,e.count).toString()}\n        of\n        ${e.count.toString()}\n        </div>\n      </div>`),e.limit<e.count){const n=document.createElement("nav");if(n.className="level-right is-hidden-print",n.setAttribute("role","pagination"),n.setAttribute("aria-label","pagination"),e.offset>0){const t=document.createElement("a");t.className="button",t.innerHTML='<span class="icon">\n          <i class="fas fa-chevron-left" aria-hidden="true"></i>\n          </span>\n          <span>Previous</span>',t.addEventListener("click",t=>{t.preventDefault(),s.value=Math.max(0,e.offset-e.limit).toString(),l()}),n.append(t)}if(e.limit+e.offset<e.count){const t=document.createElement("a");t.className="button ml-3",t.innerHTML='<span>Next Licence Plates</span>\n          <span class="icon"><i class="fas fa-chevron-right" aria-hidden="true"></i></span>',t.addEventListener("click",t=>{t.preventDefault(),s.value=(e.offset+e.limit).toString(),l()}),n.append(t)}null===(t=i.querySelector(".level"))||void 0===t||t.append(n)}}function l(){i.innerHTML='<p class="has-text-centered has-text-grey-lighter">\n      <i class="fas fa-3x fa-circle-notch fa-spin" aria-hidden="true"></i><br />\n      <em>Loading licence plates...</em>\n      </p>',cityssm.postJSON("/plates/doGetLicencePlates",a,r)}function o(){s.value="0",l()}a.addEventListener("submit",e=>{e.preventDefault()}),null===(e=document.querySelector("#filter--licencePlateNumber"))||void 0===e||e.addEventListener("change",o),null===(t=document.querySelector("#filter--hasOwnerRecord"))||void 0===t||t.addEventListener("change",o),null===(n=document.querySelector("#filter--hasUnresolvedTickets"))||void 0===n||n.addEventListener("change",o),pts.loadDefaultConfigProperties(o)})();